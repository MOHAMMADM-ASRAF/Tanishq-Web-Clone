<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart Page</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap" rel="stylesheet">
</head>
<body>
    <p><a href="index.html">HOME</a>  > CART</p>
    
    <h1 id="num_of_products">Number of products</h1>
<div id="biggerforflex">

    <div id="items_cartdiv">
       
    </div>
     
    <div id="pricedetails">
        <h1 id="summary">ORDER SUMMARY</h1>
        <div id="forinputofvoucher">
            <input type="text" placeholder="Enter Promo code" id="voucher">
            <button id="applyvoucher" onclick="applyVoucher(event)">APPLY</button>
        </div>
          <p id="showsuccessofvoucher"></p>
        <div id="ordertotal">
            <p>ORDER TOTAL  <span id="for_total"></span></p>
        </div>

        <div id="shippingdiscount">
            <p>SHIPPING <span id="free1">FREE</span></p>
        </div>
       
        <div id="youpaydiv">
            <p id="youpay">YOU PAY <span id="for_total1"></span></p>
        </div>
        <p id="inclusive">INCLUSIVE OF ALL TAXES*</p>
        <div id="linkcheckout"><button id="checkoutbot"><a href="addressandpayment.html">PROCEED TO CHECKOUT</a> </button></div>
    </div>
 

</div>

   




<script>



let cart_data= JSON.parse( localStorage.getItem("add-cart"));
console.log(cart_data)
let items_of_cart =document.getElementById("items_cartdiv")
let total=0;
let count=0;

cart_data.forEach(function(el){
    count++;
    let num_of_prod =document.getElementById("num_of_products")

    let div=document.createElement("div")
    div.setAttribute("id","foronebox");

    let keycode=document.createElement("p")
    keycode.setAttribute("id","keycode")
    keycode.textContent="512318SAXABA182BA005239"

    let weight =document.createElement("p")
    weight.setAttribute("id","weight")
    weight.textContent="Weight (g): 5.500"
    
    let div2=document.createElement("div")
    div2.setAttribute("id","imagekidiv")
    let image =document.createElement("img")
    image.src=el.image;
    div2.appendChild(image)
    
    let div3=document.createElement("div")
    div3.setAttribute("id","pkidiv")

    let name=document.createElement("p")
    name.setAttribute("id","nameka")
    name.textContent=el.name;
    
    let price=document.createElement("p");
    price.setAttribute("id","priceka")
    price.textContent= "₹ " +el.price +" ";

     let linethrough =document.createElement("span")
     linethrough.textContent=" ₹35408"
     linethrough.setAttribute("id","linethrough")

      let forremove=document.createElement("button");
      
      forremove.setAttribute("id","forremove");
       forremove.textContent="REMOVE" 

     price.append(linethrough)
    total = total + Number(el.price)

   div3.append(name,keycode,price,weight)
    div.append(div2,div3,forremove)
    items_of_cart.append(div)
    num_of_prod.textContent= "CART ITEMS(S) -" + count;
    
});

let forremove=document.getElementById("forremove")


//to remove item!

function toremove(){
 let num_of_prod =document.getElementById("num_of_products")
let torem =document.getElementById("foronebox")
console.log("clicked")
torem.remove();
count--
num_of_prod.textContent= "CART ITEMS(S) -" + count;
}
 forremove.addEventListener("click",toremove)

//--------------X-------------x----------X


let total_cost =document.getElementById("for_total")
total_cost.textContent="₹ "+ Number(total);

let showsuccess=document.getElementById("showsuccessofvoucher");

let youpaydiv=document.getElementById("youpaydiv")
let forappending=document.getElementById("")
let you_pay=document.getElementById("for_total1");

//for promo code ------------------.

function applyVoucher(e){
    let voucher_input=document.getElementById("voucher").value;
    console.log(voucher_input)
    if(voucher_input=="tanishq10"){
      showsuccess.textContent="APPLIED SUCCESSFULLY."
      showsuccess.style.color="green";
      you_pay.textContent = "₹ " + Number(total-(total*10/100))
    }

    else{
        showsuccess.textContent="NOT A VALID CODE";
        showsuccess.style.color ="red";
        you_pay.textContent="₹ "+ total
    }
    //  youpaydiv.append(you_pay)
}

you_pay.textContent="₹ "+total

//for promocode----------X-----------X
</script>

</body>
</html>